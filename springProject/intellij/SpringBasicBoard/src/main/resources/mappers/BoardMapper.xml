<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- interface와 연결되는 mapper XML파일 -->
<!-- namespace 속성 설정은 필수!!! => mapper interface의 풀네임 -->
<mapper namespace="com.hi.board.mapper.BoardMapper">
	
	<!-- 리스트 select -->
	<select id="selectAll" resultType="com.hi.board.domain.BoardDTO">
		select * from tbl_board
	</select>

	<!-- 상세 select -->
	<select id="selectByBno" resultType="com.hi.board.domain.BoardDTO">
		select * from tbl_board where bno=#{bno}
	</select>

	<!-- 등록 insert -->
	<insert id="insertBoard" parameterType="com.hi.board.domain.RequestRegBoard">
		<!-- file : 파일의 이름을 저장하는 문자열 -->
		insert into tbl_board (title, content, writer, file) values (#{title}, #{content}, #{writer}, #{filename})
	</insert>

	<!-- 수정 update -->
	<update id="updateBoard" parameterType="com.hi.board.domain.RequestModifyRequest">
		update tbl_board set title=#{title}, content=#{content}, writer=#{writer}, file=#{filename}, updatedate=now() where bno=#{bno}
	</update>

	<!-- 삭제 delete -->
	<delete id="deleteBoard">
		delete from tbl_board where bno=#{bno}
	</delete>

</mapper>
